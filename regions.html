<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Mapping Chinese Folktales</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600&display=swap"
            rel="stylesheet" />
        <!-- Leaflet CSS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
        <link rel="stylesheet" href="css/index.css" />
        <link rel="stylesheet" href="css/region.css" />
        <style>
            #map {
                height: 700px;
                width: 100%;
            }

            /* è‡ªå®šä¹‰å¼¹å‡ºæ¡†æ ·å¼ */
            .leaflet-popup-content h3 {
                color: #2c3e50;
                margin-top: 0;
            }
            .leaflet-popup-content p {
                margin-bottom: 5px;
            }
        </style>
    </head>
    <body>
        <header>
            <h1>Mapping Chinese Folktales</h1>
            <p>A digital journey through regional tales, themes, and cultural identities.</p>
        </header>

        <nav>
            <a href="index.html">Home</a>
            <a class="active" href="regions.html">Regions</a>
            <a href="themes.html">Themes</a>
            <a href="stories.html">Landmark Tales</a>
            <a href="about.html">About</a>
        </nav>

        <div class="header text-center">
            <h1 class="main-title">Every Land Has Its Tales</h1>
            <p class="subtitle">Exploring Cultural Imprints Across China</p>
        </div>
        <div id="map"></div>

        <div class="regions-grid container mx-auto">
            <div class="region-card jiangnan">
                <div class="region-header">
                    <span class="region-icon">ğŸŒŠ</span>
                    <h2 class="region-name">Water Towns of Jiangnan</h2>
                </div>
                <p class="region-desc">Where stone bridges span murmuring streams, cradling tender stories</p>

                <div class="stories">
                    <div class="story">
                        <div class="story-title">"Legend of the White Snake"</div>
                        <div class="story-desc">
                            A millennium-spanning love between human and spirit, transcending life and death
                            <span class="emotion-tag">ã€Undying Devotionã€‘</span>
                        </div>
                    </div>
                    <div class="story">
                        <div class="story-title">"Butterfly Lovers"</div>
                        <div class="story-desc">
                            Tragic romance under feudal oppression, immortalized as winged spirits
                            <span class="emotion-tag">ã€Eternal Companionshipã€‘</span>
                        </div>
                    </div>
                </div>

                <div class="region-tag">
                    <span>ğŸ®</span>
                    <span>Poignant romance, profound loyalty</span>
                </div>
            </div>

            <div class="region-card xibei">
                <div class="region-header">
                    <span class="region-icon">ğŸª</span>
                    <h2 class="region-name">Northwestern Deserts</h2>
                </div>
                <p class="region-desc">Silk Road caravan bells echo with heroic legends</p>

                <div class="stories">
                    <div class="story">
                        <div class="story-title">"Zhang Qian's Western Expedition"</div>
                        <div class="story-desc">
                            Pioneering the Silk Road, bridging Eastern and Western civilizations
                            <span class="emotion-tag">ã€Trailblazing Spiritã€‘</span>
                        </div>
                    </div>
                    <div class="story">
                        <div class="story-title">"Dunhuang Flying Apsaras"</div>
                        <div class="story-desc">
                            Celestial maidens descending from cave murals, merging art with faith
                            <span class="emotion-tag">ã€Sacred Majestyã€‘</span>
                        </div>
                    </div>
                </div>

                <div class="region-tag">
                    <span>âš”ï¸</span>
                    <span>Heroic grandeur, cultural confluence</span>
                </div>
            </div>

            <div class="region-card dongbei">
                <div class="region-header">
                    <span class="region-icon">ğŸŒ²</span>
                    <h2 class="region-name">Northeastern Black Soil</h2>
                </div>
                <p class="region-desc">Where mountain spirits mingle with mortal lives</p>

                <div class="stories">
                    <div class="story">
                        <div class="story-title">"Shaman's Demon Conquest"</div>
                        <div class="story-desc">
                            Cosmic battles between spirit-mediums, embodying man-nature harmony
                            <span class="emotion-tag">ã€Mystical Enigmaã€‘</span>
                        </div>
                    </div>
                    <div class="story">
                        <div class="story-title">"Legends of Three Northeastern Treasures"</div>
                        <div class="story-desc">
                            Ginseng spirits and fox fairies - wondrous tales from fertile lands
                            <span class="emotion-tag">ã€Fantastical Wonderã€‘</span>
                        </div>
                    </div>
                </div>

                <div class="region-tag">
                    <span>ğŸŒ¿</span>
                    <span>Primal mysticism, nature worship</span>
                </div>
            </div>

            <div class="region-card xinan">
                <div class="region-header">
                    <span class="region-icon">ğŸ”ï¸</span>
                    <h2 class="region-name">Southwestern Highlands</h2>
                </div>
                <p class="region-desc">Where mountain ranges nurture enduring ethnic traditions</p>

                <div class="stories">
                    <div class="story">
                        <div class="story-title">"Ashima"</div>
                        <div class="story-desc">
                            A Yi maiden's defiance against tyranny, petrified as guardian peak
                            <span class="emotion-tag">ã€Unyielding Resistanceã€‘</span>
                        </div>
                    </div>
                    <div class="story">
                        <div class="story-title">"Third Sister Liu"</div>
                        <div class="story-desc">
                            Zhuang song fairy outwitting villains with mountain ballads
                            <span class="emotion-tag">ã€Witty Valorã€‘</span>
                        </div>
                    </div>
                </div>

                <div class="region-tag">
                    <span>ğŸµ</span>
                    <span>Rebellious spirit, love through song</span>
                </div>
            </div>
        </div>

        <div class="summary">
            <p>
                From Jiangnan's tender lyricism to the Northwest's heroic epics, from the Northeast's shamanic mysteries
                to the Southwest's fiery passion, Chinese folktales form a living cultural tapestry. Each land sings its
                distinctive melody - murmuring like streams, roaring like deserts, whispering like forests, or
                thundering like mountains. These stories carry ancestral wisdom and emotion, serving as pillars of our
                spiritual homeland, shaping collective cultural memory through centuries of storytelling.
            </p>
        </div>

        <footer>
            <p>Â© 2025 Group 10 Â· MLIS, Universiti Malaya</p>
            <p>
                Designed by: ZHANG YUHANG (23115104), ZHAO YIYAO (23107345), ZHOU TIANHUI (23115431), LI KUNWEI
                (23086384)
            </p>
        </footer>
        <!-- Leaflet JS -->
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

        <script>
            // åˆå§‹åŒ–åœ°å›¾ï¼Œè®¾ç½®è§†å›¾ä¸ºä¸­å›½ä¸­å¿ƒ
            const map = L.map('map').setView([35.0, 105.0], 5);

            // æ·»åŠ OpenStreetMapåº•å›¾ï¼ˆå¯é€‰å…¶ä»–ç“¦ç‰‡æœåŠ¡ï¼‰
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            // è‡ªå®šä¹‰åŸå¸‚æ•°æ®
            const cities = [
                {
                    name: 'æ­å·å¸‚',
                    coordinates: [30.2741, 120.1551],
                    info: `
                    <h3>ã€Šç™½è›‡ä¼ ã€‹</h3>
                    <p>äººå¦–æ®Šé€”çš„åƒå¹´æƒ…ç¼˜ï¼Œçˆ±æƒ…è¶…è¶Šç”Ÿæ­»ç•Œé™</p>
                `
                },
                {
                    name: 'ç»å…´å¸‚',
                    coordinates: [29.997117, 120.582112],
                    info: `
                    <h3>ã€Šæ¢å±±ä¼¯ä¸ç¥è‹±å°ã€‹</h3>
                    <p>å°å»ºç¤¼æ•™ä¸‹çš„é’æ˜¥æ‚²æ­Œï¼ŒåŒ–è¶åŒé£æˆæ°¸æ’</p>
                `
                },
                {
                    name: 'è¥¿å®‰å¸‚',
                    coordinates: [34.263161, 108.948024],
                    info: `
                    <h3>ã€Šå¼ éªå‡ºä½¿è¥¿åŸŸã€‹</h3>
                    <p>å‡¿ç©ºä¸‡é‡Œä¸è·¯ï¼Œä¸€äººå¼€å¯ä¸œè¥¿æ–‡æ˜äº¤è</p>
                `
                },
                {
                    name: 'æ•¦ç…Œå¸‚',
                    coordinates: [40.14211, 94.66159],
                    info: `
                    <h3>ã€Šæ•¦ç…Œé£å¤©ä¼ è¯´ã€‹</h3>
                    <p>çŸ³çªŸå£ç”»ä¸­çš„ç¥å¥³ä¸‹å‡¡ï¼Œè‰ºæœ¯ä¸ä¿¡ä»°å®Œç¾ç»“åˆ </p>
                `
                },
                {
                    name: 'é•¿æ˜¥å¸‚',
                    coordinates: [43.886841, 125.3245],
                    info: `
                    <h3>ã€Šè¨æ»¡é™é­”è®°ã€‹</h3>
                    <p>é€šå¤©å½»åœ°çš„ç¥å·«å¤§æˆ˜ï¼Œäººä¸è‡ªç„¶å’Œè°å…±ç”Ÿ</p>
                `
                },
                {
                    name: 'å»¶è¾¹æœé²œæ—è‡ªæ²»å·',
                    coordinates: [42.904823, 129.513228],
                    info: `
                    <h3>ã€Šå…³ä¸œä¸‰å®ä¼ è¯´ã€‹</h3>
                    <p>äººå‚æˆç²¾ã€ç™½ç‹æŠ¥æ©ï¼Œé»‘åœŸåœ°ä¸Šçš„ç¥å¥‡ç‰©è¯­</p>
                `
                },
                {
                    name: 'çŸ³æ—å½æ—è‡ªæ²»å¿',
                    coordinates: [24.75897, 103.27148],
                    info: `
                    <h3>ã€Šé˜¿è¯—ç›ã€‹</h3>
                    <p>å½æ—ç¾ä¸½å§‘å¨˜å‹‡æŠ—æ¶éœ¸ï¼ŒåŒ–èº«çŸ³å³°å®ˆæŠ¤å®¶å›­</p>
                `
                },
                {
                    name: 'æŸ³å·å¸‚',
                    coordinates: [24.314617, 109.411703],
                    info: `
                    <h3>ã€Šåˆ˜ä¸‰å§ã€‹</h3>
                    <p>å£®æ—æ­Œä»™å·§èˆŒå¦‚ç°§ï¼Œç”¨å±±æ­Œæ™ºæ–—è´¢ä¸»æ¶å°‘</p>
                `
                }
            ];

            // ä¸ºæ¯ä¸ªåŸå¸‚æ·»åŠ æ ‡è®°å’Œå¼¹å‡ºæ¡†
            cities.forEach(city => {
                const marker = L.marker(city.coordinates).addTo(map).bindPopup(city.info);

                // å¯é€‰ï¼šè‡ªå®šä¹‰æ ‡è®°å›¾æ ‡
                marker.setIcon(
                    L.icon({
                        iconUrl: 'https://cdn-icons-png.flaticon.com/512/684/684908.png', // é»˜è®¤æ ‡è®°å›¾æ ‡ï¼ˆå¯æ›¿æ¢ï¼‰
                        iconSize: [32, 32],
                        iconAnchor: [16, 32]
                    })
                );
            });

            // å¯é€‰ï¼šæ·»åŠ ä¸­å›½è¾¹ç•Œï¼ˆéœ€è¦GeoJSONæ•°æ®ï¼‰
            // fetch('china.geojson').then(res => res.json()).then(data => {
            //     L.geoJSON(data).addTo(map);
            // });
        </script>
    </body>
</html>
